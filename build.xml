<?xml version="1.0"?>
<project name="sudoku" default="compile">
    <property file="props.properties"/>
    <taskdef resource="checkstyletask.properties" classpath="${checkstyle.jar.path}"/>
    <target name="compile" depends="checkstyle">
        <javac destdir="/tmp/src/bin" debug="yes" encoding="UTF8" includeantruntime="false">
            <src path="/home/" />
        </javac>
    </target>
    <target name="checkstyle">
        <echo>Starting checkstyle</echo>
        <checkstyle config="/home/google_checks.xml" failOnViolation="false">
            <fileset dir="/home/" includes="**/*.java"/>
            <formatter type="plain"/>
            <formatter type="xml" toFile="/home/checkstyle_errors.xml"/>
        </checkstyle>
        <echo>Checkstyle finished</echo>
    </target>
</project>
